<!DOCTYPE html><!--  Last Published: Wed Feb 17 2021 09:49:57 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5fd843f21fef406b6436a420" data-wf-site="5fd0817e6fb9665014002f57">
<head>
  <meta charset="utf-8">
  <title>Neutropia</title>
  <meta content="Neutropia" property="og:title">
  <meta content="Neutropia" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../css/neutropia.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script type="text/javascript">WebFont.load({  google: {    families: ["Noto Serif KR:200,300,regular,500,600,700,900:korean,latin","Noto Sans KR:100,300,regular,500,700,900:korean,latin"]  }});</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="../images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body-4">
  <div class="new-nav">
    <div class="w-layout-grid nav-grid">
      <div id="w-node-cad41809-bdf4-d33a-565d-32b2e4f845ff-6436a420" class="div-block-2">
        <a href="../index.html" class="link-block w-inline-block"><img src="../images/icon_black.svg" loading="lazy" width="121" alt="" class="image-3"></a>
      </div>
      <div class="div-block-3">
        <a href="../vr.html" class="link-2">VR</a>
        <a href="../show/utopian.html" class="link-2 current-copy">SHOW</a>
        <a href="../fun.html" class="link-2">FUN</a>
        <a href="../me.html" class="link-2">ME</a>
      </div>
    </div>
  </div>
  <div class="category-section">
    <a id="w-node-_7adb1c16-f8cb-20e4-8053-64637681e333-6436a420" href="../show/utopian.html" class="link-3">Utopian</a>
    <a href="../show/reflective.html" class="link-3">Reflective</a>
    <a href="../show/abstract.html" aria-current="page" class="link-3 selected w--current">Abstract</a>
    <a href="../show/nostalgic.html" class="link-3">Nostalgic</a>
    <a href="../show/netro.html" class="link-3">Netro</a>
  </div>
  <div class="w-layout-grid grid-abstract"><img src="../images/abstract06_mobile-2_1.gif" loading="lazy" id="w-node-dc3d65e2-5808-f0af-f855-123f30b64bf2-6436a420" alt="" class="image-5"><img src="../images/abstract03_mobile-2_1.gif" loading="lazy" id="w-node-dc3d65e2-5808-f0af-f855-123f30b64bf3-6436a420" alt="" class="image-5"><img src="../images/abstract05_mobile-2_1.gif" loading="lazy" id="w-node-dc3d65e2-5808-f0af-f855-123f30b64bf4-6436a420" alt="" class="image-5"><img src="../images/abstract04_mobile-2_1.gif" loading="lazy" id="w-node-dc3d65e2-5808-f0af-f855-123f30b64bf5-6436a420" alt="" class="image-5"><img src="../images/abstract02_mobile-2_1.gif" loading="lazy" id="w-node-dc3d65e2-5808-f0af-f855-123f30b64bf6-6436a420" alt="" class="image-5"><img src="../images/abstract01_mobile-2_1.gif" loading="lazy" id="w-node-dc3d65e2-5808-f0af-f855-123f30b64bf7-6436a420" alt="" class="image-5">
    <div class="div-block-4"></div>
  </div>
  <div class="vrshow abstract w-embed w-script">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.velocity.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/jquery.ScrollMagic.min.js"></script>
    <style>
    .logo_text {
        position: absolute;
        width: 80vw;
        left: 10vw;
        font-weight: 400;
        top: 50vh;
        z-index: 100;
        color: white;
        font-family: 'Helvetica';
        text-align: center;
    }
    .container {
        display: block;
        width: 100%;
        height: 100vh;
        opacity: 0;
    }
</style>
    <div id="loading_text" class="logo_text"> </div>
    <video id="video" style="display:none" crossorigin="anonymous" playsinline="" autoplay="" muted=""></video>
    <script>
    var mp4_fat =
        "https://player.vimeo.com/external/484392129.source.mp4?s=f93d1d9b9ffbf4a8d5e7b00defb6c2cd55879af6&download=1";
    var mp4_tall =
        "https://player.vimeo.com/external/484392183.source.mp4?s=2be800ff27bf9d3f92cb1b354bda05c1b7df237c&download=1";
    var thumb_fat = "https://unsweetpotato.github.io/neutropia/fashion_show/assets/abstract_part1_desktop.jpg";
    var thumb_tall = "https://unsweetpotato.github.io/neutropia/fashion_show/assets/abstract_part1_mobile.jpg";
    var model_n = 12
    const time_per_frame = 0.04,
        frame_per_model = 250;
    let wx = window.innerWidth,
        wy = window.innerHeight * 0.9,
        w, h, ox, oy;
    let lastScrollTop = 0;
    // Create canvas and canvas
    for (var i = 1; i <= model_n; i++) {
        document.body.innerHTML += `<canvas id="canvas${i}" class="container" margin:="unset"></canvas>`;
    }
    function scrollTop() {
    	if(document.body.scrollTop > window.innerHeight){
      	document.body.scrollTop = window.innerHeight;
      }
      if(document.documentElement.scrollTop >  window.innerHeight) {
      	document.documentElement.scrollTop = window.innerHeight;
      }
    }
    let video_mp4_url = wx / wy >= 1920 / 1080 * 0.6 ? mp4_fat : mp4_tall;
    let thumb_url = wx / wy >= 1920 / 1080 * 0.6 ? thumb_fat : thumb_tall;
    let ratio = wx / wy >= 1920 / 1080 * 0.6 ? 1920 / 1080 : 1080 / 1920;
    let video = document.getElementById('video');
    let thumb = new Image();
    let curTime;
    thumb.src = thumb_url;
    resize();
    // Video Loading
    var req = new XMLHttpRequest();
    req.open('GET', video_mp4_url, true);
    req.responseType = 'blob';
    req.addEventListener("progress", function (evt) {
        scrollTop();
        resize();
        if (evt.lengthComputable) {
            var percentComplete = evt.loaded / evt.total;
            document.getElementById('loading_text').innerHTML = `${parseInt(percentComplete*100)}% Loading`;
            document.getElementById('canvas1').style.filter = `blur(${(1-percentComplete)*80}px)`;
            focused_canvas.drawImage(thumb, ox, oy, w, h);
            if (percentComplete >= 1) {
                loading_end();
            }
        }
    }, true);
    req.addEventListener('load', function (evt) {
        if (this.status === 200) {
            var videoBlob = this.response;
            var vid = URL.createObjectURL(videoBlob);
            video.src = vid;
        }
    }, true);
    req.send();
    function loading_end() {
        resize();
        video.pause();
        document.body.style.overflow = 'visible';
        document.getElementById('loading_text').style.display = 'none';
        window.addEventListener('resize', redraw, false);
        window.requestAnimationFrame(redraw);
    }
    function resize() {
        wx = window.innerWidth, wy = window.innerHeight * 0.9;
        if (ratio == 1080 /1920) {
          w = wy * ratio, h = wy;
            ox = (wx - w) / 2, oy = 0 + window.innerHeight*0.1;
        }
        else {
          if (wx / wy >= ratio) { //가로가 더 큰 경우라 세로에 맞춘다.
            w = wy * ratio, h = wy;
            ox = (wx - w) / 2, oy = 0 + window.innerHeight*0.1;
        	} else {
            w = wx, h = wx / ratio;
            ox = 0, oy = (wy - h) / 2 + window.innerHeight*0.1;
        	}
        }
        for (var i = 1; i <= model_n; i++) {
            var canvas = document.getElementById(`canvas${i}`);
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.margin = 0;
        }
    }
    function redraw() {
    resize();
        focused_canvas.drawImage(video, ox, oy, w, h);
        video.pause();
        window.requestAnimationFrame(redraw);
    }
    /*
     * Scroll Animation
     */
    const per_enter_duration = document.documentElement.clientHeight * 0.5,
        per_center_duration = document.documentElement.clientHeight * 4,
        per_leave_duration = document.documentElement.clientHeight * 0.5;
    // init controller
    let controller = new ScrollMagic.Controller({
        globalSceneOptions: {
            triggerHook: 0
        }
    });
    // TweenMax can tween any property of any object. We use this object to cycle through the array
    let currs = new Array(model_n);
    let focused_canvas = document.getElementById(`canvas1`).getContext('2d');
    for (var i = 0; i < model_n; i++) {
        currs[i] = {
            cur_frame: 0
        }
        // create tween
        var enter_tween = TweenMax.to(`#canvas${i+1}`, 1, {
            opacity: 1,
            onUpdate: function (model_name) {
                focused_canvas = document.getElementById(`canvas${model_name + 1}`).getContext('2d');
                curTime = frame_per_model * model_name * time_per_frame;
                if (video.currentTime != curTime) {
                    video.currentTime = curTime;
                }
            },
            onUpdateParams: [i]
        });
        var center_tween = TweenMax.to(currs[i], 1, {
            cur_frame: frame_per_model - 1,
            roundProps: "cur_frame",
            repeat: 0,
            immediateRender: true,
            ease: Linear.easeNone, // show every image the same ammount of time
            onUpdate: function (model_name) {
                focused_canvas = document.getElementById(`canvas${model_name + 1}`).getContext('2d');
                curTime = (frame_per_model * model_name + currs[model_name].cur_frame) * time_per_frame;
                video.currentTime = curTime;
            },
            onUpdateParams: [i]
        });
        var leave_tween = TweenMax.to(`#canvas${i+1}`, 1, {
            opacity: 0,
        });
        // enter canvas
        var enter_scene = new ScrollMagic.Scene({
                triggerElement: `#canvas${i+1}`,
                triggerHook: "onEnter",
                offset: -per_enter_duration,
                duration: per_enter_duration,
            })
            .setTween(enter_tween)
            .addTo(controller);
        // center canvas
        var center_scene = new ScrollMagic.Scene({
                triggerElement: `#canvas${i+1}`,
                duration: per_center_duration,
            })
            .setPin(`#canvas${i+1}`)
            .setTween(center_tween)
            .addTo(controller);
        // leave canvas
        var leave_scene = new ScrollMagic.Scene({
                triggerElement: `#canvas${i+1}`,
                triggerHook: "onLeave",
                offset: per_center_duration,
                duration: per_leave_duration,
            })
            .setTween(leave_tween)
            .addTo(controller);
    }
</script>
  </div>
  <div class="section-9-copy">
    <div class="w-layout-grid grid-2-copy"><img src="../images/scroll.gif" loading="lazy" id="w-node-f200dbbb-aabe-3020-cec6-ab9a17a3e1b1-6436a420" alt="" class="footer-copy">
      <div></div><img src="../images/arrow.svg" loading="lazy" id="w-node-f200dbbb-aabe-3020-cec6-ab9a17a3e1b3-6436a420" alt="" class="image-7-copy">
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5fd0817e6fb9665014002f57" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>